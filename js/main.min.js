!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){function b(a,b){var c=new Image;return c.src=a,b&&(c.onload=b),c}function c(){z.fadeIn(1e3,function(){A.fadeIn(500)})}function d(){for(var a=[],b=65,c=123;c>b;b++)b>=91&&96>=b||a.push(String.fromCharCode(b));return a}function e(a,b){a.val()===a.prop("defaultValue")&&a.val(""),b&&a.removeClass(b)}function f(a,b){""===a.val()&&a.val(a.prop("defaultValue")),b&&a.addClass(b)}function g(a){return a.val(a.val().replace(/\s/,""))}function h(a){var b;a===C.prop("defaultValue")?(b=i("Psst! You need to enter an email..."),B.append(b.fadeIn(200))):P.test(a)?k(a):(b=i("This doesn't look like a valid email address..."),B.append(b.fadeIn(200)))}function i(b){var c;return O===!1?(c=a('<div id="errorBox"></div>').addClass("errorBox"),O=!0):c=a("#errorBox"),c.click(function(){j()}),c.html('<span class="pointer"></span><p>'+b+"</p>")}function j(){a("#errorBox").stop().fadeOut(200)}function k(a){l(a),m(),n(),p(),q(),r(),s(),t(),v(),w()}function l(a){a=a.toLowerCase(),S.originalEmail=a}function m(){var a=o(S.originalEmail,"emailEsc");S.safeText=a}function n(){var a="",b="";M===!0&&F.val()!==F.prop("defaultValue")&&(b=a=F.val(),a=o(a,"doubleEsc"),b=o(b,"singleEsc")),S.customText=a,S.customTextForJS=b}function o(a,b){return"singleEsc"===b||"doubleEsc"===b?a.replace(/[<>"']/g,function(a){return Q[b][a]}):"emailEsc"===b?a.replace(/[@.]/g,function(a){return Q[b][a]}):void 0}function p(){S.dateID=R[Math.floor(Math.random()*R.length)]+(new Date).getTime()}function q(){var a="";a+='<span id="',a+=S.dateID,a+='" class="magicEmail">',a+=""!==S.customText?S.customText+" ("+S.safeText+")":S.safeText,a+="</span>",S.spanTag=a}function r(){var a="";a+='<a href="mailto:',a+=S.originalEmail,a+='" target="_blank">',a+=""===S.customTextForJS?S.originalEmail:S.customTextForJS,a+="</a>",S.emailLink=a}function s(){S.num=Math.ceil(S.emailLink.length/3)}function t(){function a(){b=Math.floor(Math.random()*S.num),e[b]?a():e[b]=[c[f],f]}for(var b,c=[],d=[],e=new Array(S.num),f=0;f<S.num;f++)c[f]=u(),d[f]=S.emailLink.slice(3*f,3*f+3).replace(/&/g,"&amp;"),a();S.varArray=c,S.choppedArray=d,S.jumbleArray=e}function u(){var a,b="";a=Math.ceil(16*Math.random()),6>a&&(a=12);for(var c=0;a>c;c++)b+=R[Math.floor(Math.random()*R.length)];return b}function v(){S.outputString=S.spanTag,S.outputString+="\n",S.outputString+='<script type="text/javascript">',S.outputString+="(function(){",S.outputString+="var ";for(var a=0;a<S.num;a++)S.outputString+=S.jumbleArray[a][0],S.outputString+=" = '",S.outputString+=S.choppedArray[S.jumbleArray[a][1]],S.outputString+=a!==S.num-1?"', ":"'; ";S.outputString+="var a = document.getElementById('",S.outputString+=S.dateID,S.outputString+="');",S.outputString+="a.innerHTML = ";for(var b=0;b<S.num;b++)S.outputString+=S.varArray[b],S.outputString+=b!==S.num-1?" + ":";";S.outputString+="})();</script>",S.outputString=o(S.outputString,"singleEsc")}function w(){K.css("height",350).html(S.outputString),N===!1&&(J.append("<h2>Copy and Paste This Code Into Your HTML:</h2>",K),I.append(J),a(document.body).append(I),N=!0),J.css({"margin-top":y.scrollTop()+20}),I.fadeIn(400),K.prop("scrollHeight")&&K.css("height",K.prop("scrollHeight")-40)}function x(){var a=y.scrollTop();J.css({top:-a})}a("#noJavaScript").remove();var y=a(window),z=(a("#wrapper"),a("h1"),a("#headerHolder")),A=a("#mainContent"),B=a("#formHolder"),C=a("#inputEmail"),D=a("#textLabel"),E=a("#textField"),F=a("#inputText"),G=a("#divCheck"),H=(a("#errorEmpty"),a("#errorBad"),a("#submitButton")),I=a('<div id="mask"></div>').addClass("mask"),J=a('<div id="output"></div>').addClass("output"),K=a('<textarea id="theCode"></textarea>').addClass("theCode").attr({readonly:"readonly",resizeable:"resizeable"}),L=a(b("img/check-x.png")),M=!1,N=!1,O=!1,P=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Q={emailEsc:{"@":" at ",".":" dot "},singleEsc:{"'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"},doubleEsc:{"'":"&amp;#39;",'"':"&amp;quot;","<":"&amp;lt;",">":"&amp;gt;"}},R=d(),S={originalEmail:null,safeText:null,customText:null,customTextForJS:null,varArray:null,num:null,choppedArray:null,jumbleArray:null,dateID:null,outputString:null,spanTag:null,emailLink:null};z.hide(),D.css("opacity",0),F.css("opacity",0),A.hide(),E.hide(),b("img/magic-spambot-preventing-email-link-generator.jpg",c),L.attr({alt:"X","class":"theX",id:"theX"}),Modernizr.touch&&(isTouchEnabled=!0),C.focus(function(){j(),e(a(this),"mute")}),C.keyup(function(){g(a(this))}),C.blur(function(){f(a(this),"mute")}),F.focus(function(){j(),e(a(this),"mute")}),F.blur(function(){f(a(this),"mute")}),G.click(function(){j(),M?(L.remove(),M=!1,E.stop().slideUp(200,function(){D.stop().css({opacity:0}),F.stop().css({opacity:0})})):(a(this).append(L),M=!0,E.stop().slideDown(400,function(){D.stop().animate({opacity:1},200),F.stop().animate({opacity:1},200)}))}),H.stop().click(function(a){a.preventDefault(),j(),h(C.val())}),I.click(function(){a(this).fadeOut()}),J.click(function(a){a.stopPropagation()}),Modernizr.touch===!1&&(y.scroll(function(){x()}),y.resize(function(){x()}))}(jQuery);