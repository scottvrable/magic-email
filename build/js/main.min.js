!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){function b(a,b){var c=new Image;return c.src=a,b&&(c.onload=b),c}function c(){A.fadeIn(1e3,function(){z.delay(500).animate({top:0},1e3),A.delay(500).animate({top:0},1e3,function(){B.fadeIn(500)})})}function d(){for(var a=[],b=65,c=123;c>b;b++)b>=91&&96>=b||a.push(String.fromCharCode(b));return a}function e(a,b){a.val()===a.prop("defaultValue")&&a.val(""),b&&a.removeClass(b)}function f(a,b){""===a.val()&&a.val(a.prop("defaultValue")),b&&a.addClass(b)}function g(a){return a.val(a.val().replace(/\s/,""))}function h(a){var b;a===D.prop("defaultValue")?(b=i("Psst! You need to enter an email..."),C.append(b.fadeIn(200))):Q.test(a)?k(a):(b=i("This doesn't look like a valid email address..."),C.append(b.fadeIn(200)))}function i(b){var c;return P===!1?(c=a('<div id="errorBox"></div>').addClass("errorBox"),P=!0):c=a("#errorBox"),c.click(function(){j()}),c.html('<span class="pointer"></span><p>'+b+"</p>")}function j(){a("#errorBox").stop().fadeOut(200)}function k(a){l(a),m(),n(),p(),q(),r(),s(),t(),v(),w()}function l(a){a=a.toLowerCase(),T.originalEmail=a}function m(){var a=o(T.originalEmail,"emailEsc");T.safeText=a}function n(){var a="",b="";N===!0&&G.val()!==G.prop("defaultValue")&&(b=a=G.val(),a=o(a,"doubleEsc"),b=o(b,"singleEsc")),T.customText=a,T.customTextForJS=b}function o(a,b){return"singleEsc"===b||"doubleEsc"===b?a.replace(/[<>"']/g,function(a){return R[b][a]}):"emailEsc"===b?a.replace(/[@.]/g,function(a){return R[b][a]}):void 0}function p(){T.dateID=S[Math.floor(Math.random()*S.length)]+(new Date).getTime()}function q(){var a="";a+='<span id="',a+=T.dateID,a+='" class="magicEmail">',a+=""!==T.customText?T.customText+" ("+T.safeText+")":T.safeText,a+="</span>",T.spanTag=a}function r(){var a="";a+='<a href="mailto:',a+=T.originalEmail,a+='" target="_blank">',a+=""===T.customTextForJS?T.originalEmail:T.customTextForJS,a+="</a>",T.emailLink=a}function s(){T.num=Math.ceil(T.emailLink.length/3)}function t(){function a(){b=Math.floor(Math.random()*T.num),e[b]?a():e[b]=[c[f],f]}for(var b,c=[],d=[],e=new Array(T.num),f=0;f<T.num;f++)c[f]=u(),d[f]=T.emailLink.slice(3*f,3*f+3).replace(/&/g,"&amp;"),a();T.varArray=c,T.choppedArray=d,T.jumbleArray=e}function u(){var a,b="";a=Math.ceil(16*Math.random()),6>a&&(a=12);for(var c=0;a>c;c++)b+=S[Math.floor(Math.random()*S.length)];return b}function v(){T.outputString=T.spanTag,T.outputString+="\n",T.outputString+='<script type="text/javascript">',T.outputString+="(function(){",T.outputString+="var ";for(var a=0;a<T.num;a++)T.outputString+=T.jumbleArray[a][0],T.outputString+=" = '",T.outputString+=T.choppedArray[T.jumbleArray[a][1]],T.outputString+=a!==T.num-1?"', ":"'; ";T.outputString+="var a = document.getElementById('",T.outputString+=T.dateID,T.outputString+="');",T.outputString+="a.innerHTML = ";for(var b=0;b<T.num;b++)T.outputString+=T.varArray[b],T.outputString+=b!==T.num-1?" + ":";";T.outputString+="})();</script>",T.outputString=o(T.outputString,"singleEsc")}function w(){L.css("height",350).html(T.outputString),O===!1&&(K.append("<h2>Copy and Paste This Code Into Your HTML:</h2>",L),J.append(K),a(document.body).append(J),O=!0),K.css({"margin-top":y.scrollTop()+20}),J.fadeIn(400),L.prop("scrollHeight")&&L.css("height",L.prop("scrollHeight")-40)}function x(){var a=y.scrollTop();K.css({top:-a})}a("#noJavaScript").remove();var y=a(window),z=(a("#wrapper"),a("h1")),A=a("#headerHolder"),B=a("#mainContent"),C=a("#formHolder"),D=a("#inputEmail"),E=a("#textLabel"),F=a("#textField"),G=a("#inputText"),H=a("#divCheck"),I=(a("#errorEmpty"),a("#errorBad"),a("#submitButton")),J=a('<div id="mask"></div>').addClass("mask"),K=a('<div id="output"></div>').addClass("output"),L=a('<textarea id="theCode"></textarea>').addClass("theCode").attr({readonly:"readonly",resizeable:"resizeable"}),M=a(b("img/check-x.png")),N=!1,O=!1,P=!1,Q=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,R={emailEsc:{"@":" at ",".":" dot "},singleEsc:{"'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"},doubleEsc:{"'":"&amp;#39;",'"':"&amp;quot;","<":"&amp;lt;",">":"&amp;gt;"}},S=d(),T={originalEmail:null,safeText:null,customText:null,customTextForJS:null,varArray:null,num:null,choppedArray:null,jumbleArray:null,dateID:null,outputString:null,spanTag:null,emailLink:null};z.css("top","-50%"),A.css("top","50%").hide(),E.css("opacity",0),G.css("opacity",0),B.hide(),F.hide(),b("img/magic-spambot-preventing-email-link-generator.jpg",c),M.attr({alt:"X","class":"theX",id:"theX"}),Modernizr.touch&&(isTouchEnabled=!0),D.focus(function(){j(),e(a(this),"mute")}),D.keyup(function(){g(a(this))}),D.blur(function(){f(a(this),"mute")}),G.focus(function(){j(),e(a(this),"mute")}),G.blur(function(){f(a(this),"mute")}),H.click(function(){j(),N?(M.remove(),N=!1,F.stop().slideUp(200,function(){E.stop().css({opacity:0}),G.stop().css({opacity:0})})):(a(this).append(M),N=!0,F.stop().slideDown(400,function(){E.stop().animate({opacity:1},200),G.stop().animate({opacity:1},200)}))}),I.stop().click(function(a){a.preventDefault(),j(),h(D.val())}),J.click(function(){a(this).fadeOut()}),K.click(function(a){a.stopPropagation()}),Modernizr.touch===!1&&(y.scroll(function(){x()}),y.resize(function(){x()}))}(jQuery);